# Data Visualization Project CS573 Fall 2021 Peter Cordone

## Visualization Description and Goals

The goal of creating this visualization is to provide an interactive tool that will allow a user to explore their electrical usage data and look for cyclical patterns of usage within a particular account and across accounts.  Electrical usage to a home or business is measured by a meter.  Each meter is assocciated with an account to track usage and bill customers.  Power that is generated by other providers such as through solar or wind is put onto the power grid on behalf of the purchaser and the electricity is credited to the bill from the utility company as net metering credits.  For people that use rooftop solar, when the panels are generating electricity during the day it is usually more than they can consume, so the excess is put back onto the grid and their meter runs backwards.  The amount of electricity they put into the grid is their net metering credit.  The means of generation can also be a third party such as when a solar farm generates electricity on behalf of a utility customer.  The electricity generated by the solar farm is applied to the customers account as a net metering credit.

I plan on supporting the following interractions:
* Choose the account where usage will be shown across at least two years for the account in a stacked barchart so that it can be easily compared.
* Choose all accounts where usage will be shown across the year comparing each account for each month.
* Choose the period (monthly, quarterly, or seasons) for both comparison across two years of a single account or multiple accounts for a year.
* Hover over will show the dollar and kWH consumption amounts as well as the total.
* Possibly vary the period length to look for cyclical trends other than montly 

## Questions & Tasks

The visualization and interactions are intended to answer the following questions:

 * How does electricity usage vary over the seasons of a year?
 * How does usage compare across two years for each month and season?
 * How does usage compare across accounts by season?
 * What does net metered usage (solar generated power) compare to total usage by account and by season?

## Prototypes

Below is a screenshot of a scatter plot of the data for electrical usage for my personal accounts.  I live in an owner occupied 3 family and you can see the usage for two of the apartments that I occupy and the common meter which provides power for the rear and front LED lighting, basement outlets and outside outlets.  I have electric heat pumps that I use to cool in the summer and offset oil consumption in the winter.

Scatterplot of electicity usage by account
[![image](https://user-images.githubusercontent.com/447806/137117330-d6a54938-2a87-46b4-ae3c-8dc0dadc79a4.png)](https://user-images.githubusercontent.com/447806/137117330-d6a54938-2a87-46b4-ae3c-8dc0dadc79a4.png)

https://vizhub.com/pcordone/7022e550fada4acaae8833f6150f2072?mode=full

Stacked bar chart for a single account of usage data for two years
[![image](
https://user-images.githubusercontent.com/447806/136951147-99747773-92ad-4fac-9385-8670a5154d0a.png)](
https://user-images.githubusercontent.com/447806/136951147-99747773-92ad-4fac-9385-8670a5154d0a.png)
https://vizhub.com/pcordone/93f904e779964c3fa8bfa169311ebf00?edit=files&file=barChart.js&mode=full

Radial stacked bar chart prototype
[![image](
https://user-images.githubusercontent.com/447806/137047437-fcdf74d5-ab3c-4c9d-80e2-86a9fb930eb7.png)](
https://user-images.githubusercontent.com/447806/137047437-fcdf74d5-ab3c-4c9d-80e2-86a9fb930eb7.png)
https://vizhub.com/pcordone/0260321d75f045ed9e9c7bb382c32586?edit=files&file=barChart.js&mode=full

## Sketches

This visualization sketch shows a stacked bar graph wrapped around a circle representing the usage for the 12 months of the year for 3 accounts.  The rationale is that by wrapping the bar graph around a circle, the viewer can look to the opposite side of the circle to see usage patterns for the opposite season.  The visualization could also show usage for the same account with the bars closer to the origin for the first year and the bars further from the origin for the second year.  Multiple accounts could also be rendered for two consecutive years by grouping the accounts visually as groups of consecutive circles of accounts.  An issue with this visualization is that the area of segments will increase if the height of the bars represent usage.  That may be perceived as misleading since it will cause the user to believe that the outer bar segments are consuming more electricity.

[![image](https://user-images.githubusercontent.com/447806/133938224-1bc1bfc5-3cd1-439e-a079-243d89931b48.png)](https://user-images.githubusercontent.com/447806/133938224-1bc1bfc5-3cd1-439e-a079-243d89931b48.png)

By rendering the bars as rectangular instead of pie shaped, the issue of the area of the bars increasing as segments are further out is removed.
[![image](
https://user-images.githubusercontent.com/447806/133938231-ae7a1b6b-bd14-46a2-b126-a578d11f0b41.png)](
https://user-images.githubusercontent.com/447806/133938231-ae7a1b6b-bd14-46a2-b126-a578d11f0b41.png)

## Schedule of Deliverables
Week 7
* First draft of porting stacked bar chart to radial bar chart.<br>

Week 8
* Fix issues with radial stacked bar chart
  * Fix bugs with the yaxis radial labels not showing.
  * Fix the bug with the lines being overwritten by the pie wedges.
  * Get the y label text and title to showup.<br>

Week 9
* Port the code to react.
  * Complete learning what I need to in order to get the code to work in react.<br>

Week 10
* Finish the port of the code to react and fix any bugs.<br>

Week 10
* Add the additional menus for choosing the period and all accounts.<br>

Week 11
* Add the choice of period cycle selection.<br>

Week 12
* Host the visualization on github.<br>

Week 13
* Tryout different animations to decide on which work best.<br>

Week 14
* Test on different datasets and fix any bugs.<br>

Week 15
* Buffer to all for project slipage or improve interactions.

